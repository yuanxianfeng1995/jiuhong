{"version":3,"sources":["uni-app:///main.js","webpack:///D:/下载/玖红天下项目交付文件（客户端、后台PC端）/客户端/Famous-product-shop-app/pages/index/production/detail.vue?e94a","webpack:///D:/下载/玖红天下项目交付文件（客户端、后台PC端）/客户端/Famous-product-shop-app/pages/index/production/detail.vue?d624","webpack:///D:/下载/玖红天下项目交付文件（客户端、后台PC端）/客户端/Famous-product-shop-app/pages/index/production/detail.vue?642b","webpack:///D:/下载/玖红天下项目交付文件（客户端、后台PC端）/客户端/Famous-product-shop-app/pages/index/production/detail.vue?8bd6","uni-app:///pages/index/production/detail.vue","webpack:///D:/下载/玖红天下项目交付文件（客户端、后台PC端）/客户端/Famous-product-shop-app/pages/index/production/detail.vue?0d7b","webpack:///D:/下载/玖红天下项目交付文件（客户端、后台PC端）/客户端/Famous-product-shop-app/pages/index/production/detail.vue?150c"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,0G;AACAA,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;AACa;;;AAGlE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,mNAEN;AACP,KAAK;AACL;AACA,aAAa,2OAEN;AACP,KAAK;AACL;AACA,aAAa,mQAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC3CA;AAAA;AAAA;AAAA;AAAgmB,CAAgB,0nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsGpnB;AACA,MADA,kBACA;AACA;AACA,cADA;AAEA,iBAFA;AAGA;AACA,6BADA,EAHA;;AAMA,mBANA;AAOA,gBAPA;AAQA,yBARA;AASA,gCATA;;AAWA,GAbA;AAcA;AACA;AACA;AACA;AACA;AACA,GAnBA;AAoBA;AACA;AACA,GAtBA;AAuBA;;AAEA,GAzBA;AA0BA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,wCADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA,uBADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA,kBADA;AAEA;AACA;AACA,SAJA;;AAMA,KA7BA;AA8BA;AACA;AACA;AACA;AACA;AACA,wCADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA,0CADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA,qCADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA,6BADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA,kBADA;AAEA;AACA;AACA;AACA,SALA;;AAOA,KArEA;AAsEA;;;;AAIA;AACA;AACA;AACA;AACA,iCADA;AAEA,UAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBADA;AAEA,wBAFA;;AAIA;AACA,WANA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAzBA,MAyBA;AACA;AACA,gCADA;AAEA,wBAFA;;AAIA;AACA,OAnCA;AAoCA,KAjHA;AAkHA;AACA;AACA;AACA;AACA;AACA,OAHA;AAIA,KAxHA;AAyHA;;;;AAIA;AACA;AACA;AACA,oCADA;;AAGA,KAlIA;AAmIA;AACA;AACA;AACA;AACA;AACA;AACA,wCADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA,yCADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA,6BADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA,wCADA;AAEA,UAFA,CAEA;AACA;AACA;AACA,sBADA;AAEA;AACA;AACA;AACA,aALA;;AAOA,SARA,MAQA;AACA;AACA,6BADA;AAEA,wBAFA;;AAIA;AACA,OAjBA;AAkBA,KA/KA,EA1BA,E;;;;;;;;;;;;;ACtGA;AAAA;AAAA;AAAA;AAAk3B,CAAgB,m3BAAG,EAAC,C;;;;;;;;;;;ACAt4B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/index/production/detail.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/production/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=b75a71fe&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/production/detail.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=template&id=b75a71fe&\"","var components\ntry {\n  components = {\n    uSwiper: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-swiper/u-swiper\" */ \"@/uview-ui/components/u-swiper/u-swiper.vue\"\n      )\n    },\n    uCountDown: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-count-down/u-count-down\" */ \"@/uview-ui/components/u-count-down/u-count-down.vue\"\n      )\n    },\n    uParse: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-parse/u-parse\" */ \"@/uview-ui/components/u-parse/u-parse.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"contain\">\r\n\t\t<view class=\"header\">\r\n\t\t\t<view class=\"prod_img_list\">\r\n\t\t\t\t<u-swiper :list=\"list\" mode=\"dot\" indicator-pos=\"bottomRight\" :height=\"472\" :border-radius=\"0\"></u-swiper>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"title\">\r\n\t\t\t\t<text>{{detail.productName}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"tag\">\r\n\t\t\t\t<view class=\"tag_left\">\r\n\t\t\t\t\t<text class=\"line_1\">{{detail.groupPrice}}积分</text>\r\n\t\t\t\t\t<text class=\"line_2\">拼团价</text>\r\n\t\t\t\t\t<text class=\"line_3\">市场价 ￥{{detail.marketPrice}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"inventory\">\r\n\t\t\t\t\t<text>剩余 {{detail.stock}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"history\" v-if=\"detail.headUrlsLength > 0\">\r\n\t\t\t\t<view class=\"img_list\">\r\n\t\t\t\t\t<template v-for=\"(item,index) in detail.headUrls\">\r\n\t\t\t\t\t\t<image :src=\"item\" mode=\"aspectFill\" :key=\"index\" v-if=\"index <= 10\"></image>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"his_title\">\r\n\t\t\t\t\t<text>累计参团{{detail.totalJoinGroupNumber}}次</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"content\">\r\n\t\t\t<view class=\"group\">\r\n\t\t\t\t<view class=\"group_msg\" v-if=\"groupDetailVoListLength > 0\">\r\n\t\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t\t<text>当前{{detail.groupDetailVoList ? detail.groupDetailVoList.length : 0}}人正在拼团，可直接参与</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- <view class=\"more\">\r\n\t\t\t\t\t\t<text>查看更多</text>\r\n\t\t\t\t\t\t<u-icon name=\"arrow-right\"></u-icon>\r\n\t\t\t\t\t</view> -->\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"group_content\">\r\n\t\t\t\t\t<template v-for=\"(item,index) in detail.groupDetailVoList\">\r\n\t\t\t\t\t\t<view class=\"group_item\" :key=\"index\" v-if=\"index < 10\">\r\n\t\t\t\t\t\t\t\t<view class=\"name\">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"item.headPortrait\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t\t\t<text>{{item.nickname}}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"handle\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"time\">\r\n\t\t\t\t\t\t\t\t\t\t<text>还差{{item.needPeople}}人</text>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t剩余<u-count-down :timestamp=\"item.surplusTime\" font-size=\"24\" bg-color=\"none\" v-if=\"item.surplusTime > 0\"></u-count-down>\r\n\t\t\t\t\t\t\t\t\t\t\t<text v-else>开团失败</text> \r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"btn_content\">\r\n\t\t\t\t\t\t\t\t\t\t<!-- <button class=\"btn\" type=\"default\" size=\"mini\" @click=\"joinGroup(item)\">加入拼团</button> -->\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"detail_content\">\r\n\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t<text>商品详情</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"detail_parse\">\r\n\t\t\t\t\t<!-- <image :src=\"item\" style=\"width: 100%;\" v-for=\"(item,index) in detail.detailArr\" :key=\"index\"></image> -->\r\n\t\t\t\t\t<u-parse :html=\"detail.detail\" :tag-style=\"parseStyle\"></u-parse>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"footer\">\r\n\t\t\t<view class=\"warn_message\">\r\n\t\t\t\t<template v-if=\"detail.openGroupNumber > 0\">\r\n\t\t\t\t\t<text>温馨提示：您今日还可开团{{openAndJoin_num.openGroupNum}}次，参团{{openAndJoin_num.joinGroupNum}}次</text>\r\n\t\t\t\t\t<text @click=\"routeGroupInfo('open')\">查看规则</text>\r\n\t\t\t\t</template>\r\n\t\t\t\t<text v-else>客官您好，今日开团次数已用完，暂不可发起拼团，只可参团。</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"footer_handle\">\r\n\t\t\t\t<view class=\"explain\" v-if=\"detail.openGroupNumber == 0\">\r\n\t\t\t\t\t<view class=\"ask_text\">\r\n\t\t\t\t\t\t<text>如何获取开团券？</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"visit_text\">\r\n\t\t\t\t\t\t<text @click=\"routeGroupInfo('open')\">查看详情</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"btn_content\">\r\n\t\t\t\t\t<button class=\"btn\" type=\"default\" size=\"mini\" v-if=\"detail.openGroupNumber > 0\" @click=\"creatGroup()\">发起拼团</button>\r\n\t\t\t\t\t<view class=\"\"></view>\r\n\t\t\t\t\t<button :class=\"['btn','right',groupDetailVoListLength == 0 ? 'forbidden':'']\" type=\"default\" size=\"mini\" @click.stop=\"routeBuy\">随机参团</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tlist: [],\r\n\t\t\t\tcontent: ``,\r\n\t\t\t\tparseStyle: {\r\n\t\t\t\t\timg: 'display:block;',\r\n\t\t\t\t},\r\n\t\t\t\tproductId:'',\r\n\t\t\t\tdetail:{},\r\n\t\t\t\topenAndJoin_num:{},\r\n\t\t\t\tgroupDetailVoListLength:0,\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad:function(option){\r\n\t\t\tconsole.log('详情商品id',option.productId)\r\n\t\t\t// console.log('用户信息',getApp().globalData.user)\r\n\t\t\tthis.productId = option.productId\r\n\t\t\tthis.get_product_detail()\r\n\t\t},\r\n\t\tonShow:function(){\r\n\t\t\tthis.get_openAndJoin_num()\r\n\t\t},\r\n\t\tonHide:function(){\r\n\t\t\t\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t/**\r\n\t\t\t * 事件\r\n\t\t\t * -----------------------\r\n\t\t\t * */\r\n\t\t\t //开团\r\n\t\t\tcreatGroup:function(){\r\n\t\t\t\tlet that = this\r\n\t\t\t\tconsole.log('创建开团',this.detail)\r\n\t\t\t\tif( that.openAndJoin_num.openGroupNum <= 0 ){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'客官您好，您当前没有拼团次数，暂不可拼团。',\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif( that.detail.stock <= 0 ){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'库存不足',\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'buy',\r\n\t\t\t\t\tsuccess:function(res){\r\n\t\t\t\t\t\tres.eventChannel.emit('detail', { data: that.detail })\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t //拼团\r\n\t\t\tjoinGroup:function(item){\r\n\t\t\t\tlet that = this\r\n\t\t\t\tif( that.openAndJoin_num.joinGroupNum <= 0 ){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'客官您好，您当前没有拼团次数，暂不可拼团。',\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif( parseInt(item.surplusTime) <= 0 ){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'当前拼团因人数不足已关闭，请选择其他拼团队伍。',\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif( item.needPeople <= 0 ){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'当前拼团已拼满，请选择其他拼团队伍。',\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif( that.detail.stock <= 0 ){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'库存不足，暂不可购买',\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log('创建拼团',this.detail)\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'buy',\r\n\t\t\t\t\tsuccess:function(res){\r\n\t\t\t\t\t\tres.eventChannel.emit('detail', { data: that.detail })\r\n\t\t\t\t\t\tres.eventChannel.emit('groupItem', { data: item })\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 接口请求\r\n\t\t\t * --------------------------------------------------\r\n\t\t\t * */\r\n\t\t\t//接口 - 商品详情\r\n\t\t\tget_product_detail:function(){\r\n\t\t\t\t let that = this\r\n\t\t\t\t this.$u.api.get_product_detail({\r\n\t\t\t\t\tproductId:that.productId\r\n\t\t\t\t }).then(res => {\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\tif( res.code == 200 ){\r\n\t\t\t\t\t\tlet groupDetailVoList = res.data.groupDetailVoList.map( ite => {\r\n\t\t\t\t\t\t\tite.surplusTime = parseInt(ite.surplusTime)/1000\r\n\t\t\t\t\t\t\treturn ite\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthat.detail = res.data\r\n\t\t\t\t\t\tthat.detail.headUrlsLength = res.data.headUrls.length\r\n\t\t\t\t\t\tthat.detail.groupDetailVoList = groupDetailVoList\r\n\t\t\t\t\t\t//商品图片\r\n\t\t\t\t\t\tlet pictureArr = res.data.picture.split(',')\r\n\t\t\t\t\t\tpictureArr.map( ite => {\r\n\t\t\t\t\t\t\tlet item = {\r\n\t\t\t\t\t\t\t\timage:ite,\r\n\t\t\t\t\t\t\t\ttitle:'1'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthat.list = [...that.list,...[item]]\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t//详情\r\n\t\t\t\t\t\t// let content = ``\r\n\t\t\t\t\t\t// let detailArr =  res.data.detail.split(',')\r\n\t\t\t\t\t\t// detailArr.map( item => {\r\n\t\t\t\t\t\t// \tcontent += '<img src=\"' +item+ '\" />'\t\r\n\t\t\t\t\t\t// })\r\n\t\t\t\t\t\t// that.content = content\r\n\t\t\t\t\t\tthat.groupDetailVoListLength = res.data.groupDetailVoList.length\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:'服务器繁忙，请稍后重试',\r\n\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t })\r\n\t\t\t},\r\n\t\t\t//今日可参团 、开团\r\n\t\t\tget_openAndJoin_num:function(){\r\n\t\t\t\tthis.$u.api.get_openAndJoin_num().then(res => {\r\n\t\t\t\t\tthis.openAndJoin_num = res.data\r\n\t\t\t\t\tconsole.log('今日可',this.openAndJoin_num)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 路由\r\n\t\t\t * ----------------------------\r\n\t\t\t * */\r\n\t\t\t //拼团券介绍\r\n\t\t\trouteGroupInfo:function(e){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'coupon-info?type=' + e\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//随机拼团\r\n\t\t\trouteBuy:function(){\r\n\t\t\t\tlet that = this\r\n\t\t\t\t//没有开团券拦截\r\n\t\t\t\tif( that.openAndJoin_num.joinGroupNum <= 0 ){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'客官您好，您当前没有拼团次数，暂不可拼团。',\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif( that.detail.groupDetailVoList.length == 0 ){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'此商品当前无人开团，暂不可参团，请稍后再试。',\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif( that.detail.stock <= 0 ){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'库存不足，暂不可购买',\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log('创建拼团',that.detail.productId)\r\n\t\t\t\tthis.$u.api.group_random({\r\n\t\t\t\t\tproductId:that.detail.productId\r\n\t\t\t\t}).then( re => {\r\n\t\t\t\t\tif( re.code == 200 && re.data ){\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl:'buy',\r\n\t\t\t\t\t\t\tsuccess:function(res){\r\n\t\t\t\t\t\t\t\tres.eventChannel.emit('detail', { data: that.detail })\r\n\t\t\t\t\t\t\t\tres.eventChannel.emit('groupItem', { data: re.data })\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:'当前无可参加的团',\r\n\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n.header{\r\n\tbackground-color: #FFFFFF;\r\n}\r\n.header .title{\r\n\tpadding: 20rpx;\r\n\tfont-size: 28rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #181725;\r\n\tline-height: 36rpx;\r\n\tdisplay: -webkit-box;\r\n\t-webkit-box-orient: vertical;\r\n\t-webkit-line-clamp: 2;\r\n\toverflow: hidden;\r\n\tborder-bottom: 2rpx solid #F8F7F7;\r\n}\r\n.tag{\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n\tpadding: 32rpx 40rpx 42rpx 20rpx;\r\n\tborder-bottom: 2rpx solid #F8F7F7;\r\n}\r\n.tag_left text{\r\n\tmargin-right: 16rpx;\r\n}\r\n.tag_left .line_1{\r\n\tfont-size: 32rpx;\r\n\tcolor: #532da3;\r\n\tfont-weight: 600;\r\n}\r\n.tag_left .line_2{\r\n\tfont-size: 28rpx;\r\n\tcolor: #532da3;\r\n}\r\n.tag_left .line_3{\r\n\tfont-size: 24rpx;\r\n\tcolor: #8f8f8f;\r\n\ttext-decoration: line-through;\r\n}\r\n.inventory text{\r\n\tfont-size: 28rpx;\r\n\tcolor: #000000;\r\n}\r\n.history{\r\n\tpadding: 40rpx 20rpx;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n}\r\n.history .img_list{\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n.img_list image{\r\n\twidth: 40rpx;\r\n\theight: 40rpx;\r\n\topacity: 1;\r\n\tborder: 2rpx solid #532da3;\r\n\tborder-radius: 152rpx;\r\n\tbox-shadow: 0px 4rpx 4rpx 0px rgba(0,0,0,0.40); \r\n\tmargin-right: 2rpx;\r\n}\r\n.his_title{\r\n\tfont-size: 24rpx;\r\n\tcolor: #828282;\r\n}\r\n.group{\r\n\tborder-top: 12rpx solid #F8F7F7;\r\n\tbackground-color: #FFFFFF;\r\n}\r\n.group_msg{\r\n\tpadding: 12rpx 20rpx;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n\tborder-bottom: 2rpx solid #F8F7F7;\r\n}\r\n.group_msg .title{\r\n\tfont-size: 24rpx;\r\n\tcolor: #000000;\r\n}\r\n.group_msg .more text{\r\n\tfont-size: 28rpx;\r\n\tcolor: #8f8f8f;\r\n}\r\n.group_item{\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n\tpadding: 22rpx;\r\n\tborder-bottom: 2rpx solid #F8F7F7;\r\n}\r\n.group_item .name{\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n.group_item .name text{\r\n\tpadding-left: 32rpx;\r\n\tfont-size: 24rpx;\r\n\tcolor: #000000;\r\n}\r\n.group_item .name image{\r\n\twidth: 80rpx;\r\n\theight: 80rpx;\r\n\tborder: 2rpx solid #532da3;\r\n\tborder-radius: 152rpx;\r\n}\r\n.group_item .handle{\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n.handle .time{\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: flex-end;\r\n\tfont-size: 24rpx;\r\n\tline-height: 36rpx;\r\n\tcolor: #000000;\r\n}\r\n.handle .btn_content{\r\n\tpadding-left: 42rpx;\r\n}\r\n.handle .btn_content .btn{\r\n\twidth: 136rpx;\r\n\theight: 52rpx;\r\n\tline-height: 52rpx;\r\n\tbackground: #532da3;\r\n\tborder-radius: 12rpx;\r\n\tcolor: #FFFFFF;\r\n\tfont-weight: 600;\r\n\tpadding: 0;\r\n}\r\n.detail_content{\r\n\tborder-top: 12rpx solid #f8f7f7;\r\n\tbackground-color: #FFFFFF;\r\n}\r\n.detail_content .title{\r\n\tpadding: 12rpx 20rpx;\r\n\tfont-size: 32rpx;\r\n\tcolor: #000000;\r\n\ttext-align: center;\r\n}\r\n.footer{\r\n\tposition: sticky;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\theight: 200rpx;\r\n\tbackground-color: #FFFFFF;\r\n}\r\n.warn_message{\r\n\theight: 44rpx;\r\n\tline-height: 44rpx;\r\n\tbackground: #532da3;\r\n\tfont-size: 24rpx;\r\n\tcolor: #ffffff;\r\n\tpadding: 0 16rpx;\r\n}\r\n.footer_handle{\r\n\theight: 156rpx;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n\tpadding: 0 16rpx;\r\n}\r\n.explain .ask_text{\r\n\tfont-size: 24rpx;\r\n\tcolor: #ff0009;\r\n\tline-height: 46rpx;\r\n}\r\n.explain .visit_text{\r\n\tfont-size: 24rpx;\r\n\tcolor: #532da3;\r\n}\r\n.footer_handle .btn_content{\r\n\tflex: 1;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n}\r\n.footer_handle .btn_content .btn{\r\n\twidth: 304rpx;\r\n\theight: 80rpx;\r\n\tline-height: 80rpx;\r\n\tbackground: #532da3;\r\n\tborder-radius: 40rpx;\r\n\tpadding: 0;\r\n\tmargin: 0;\r\n\tcolor: #FFFFFF;\r\n\tfont-size: 32rpx;\r\n\tfont-weight: 600;\r\n}\r\n.footer_handle .btn_content .forbidden{\r\n\tbackground: #999;\r\n}\r\n</style>\r\n","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1625289636029\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}